<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>–î–ª—è —Ç–µ–±—è ‚ù§Ô∏è</title>

  <style>
    :root{
      --bg:#0b0a12;
      --card: rgba(255,255,255,.06);
      --stroke: rgba(255,255,255,.10);
      --text: rgba(255,255,255,.92);
      --muted: rgba(255,255,255,.68);
      --pink:#ff4da6;
      --violet:#9b5cff;
      --shadow: 0 18px 60px rgba(0,0,0,.55);
      --radius: 22px;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Noto Sans", "Liberation Sans", sans-serif;
      background: radial-gradient(1200px 700px at 20% 10%, rgba(155,92,255,.22), transparent 60%),
                  radial-gradient(900px 600px at 80% 30%, rgba(255,77,166,.18), transparent 55%),
                  var(--bg);
      color:var(--text);
      overflow-x:hidden;
      -webkit-tap-highlight-color: transparent;
    }

    .bg-glow{
      position:fixed; inset:-40%;
      background: conic-gradient(from 180deg, rgba(255,77,166,.18), rgba(155,92,255,.18), rgba(255,77,166,.18));
      filter: blur(90px);
      opacity:.35;
      pointer-events:none;
      animation: float 10s ease-in-out infinite;
    }
    @keyframes float{
      0%,100%{transform: translate3d(-2%, -2%, 0) rotate(0deg)}
      50%{transform: translate3d(2%, 2%, 0) rotate(12deg)}
    }

    /* ‚ú® Sparkle overlay */
    .sparkles{
      position:fixed; inset:0;
      pointer-events:none;
      z-index:0;
      background:
        radial-gradient(2px 2px at 10% 20%, rgba(255,255,255,.35), transparent 60%),
        radial-gradient(1.5px 1.5px at 30% 60%, rgba(255,255,255,.28), transparent 60%),
        radial-gradient(2px 2px at 70% 35%, rgba(255,255,255,.22), transparent 60%),
        radial-gradient(1.5px 1.5px at 85% 70%, rgba(255,255,255,.25), transparent 60%),
        radial-gradient(2px 2px at 50% 85%, rgba(255,255,255,.20), transparent 60%);
      opacity:.55;
      animation: twinkle 3.6s ease-in-out infinite;
      mix-blend-mode: screen;
    }
    @keyframes twinkle{
      0%,100%{opacity:.35; transform: translateY(0)}
      50%{opacity:.7; transform: translateY(-6px)}
    }

    /* ‚úÖ Hearts fullscreen */
    #hearts{
      position:fixed;
      inset:0;
      width:100vw;
      height:100vh;
      pointer-events:none;
      z-index:0;
      display:block;
    }

    /* ‚ú® Confetti canvas */
    #confetti{
      position:fixed;
      inset:0;
      width:100vw;
      height:100vh;
      pointer-events:none;
      z-index:1500;
      display:block;
    }

    /* ===== Scroll animations ===== */
    .reveal{
      opacity:0;
      transform: translateY(18px) scale(.985);
      filter: blur(6px);
      transition: opacity .8s ease, transform .8s ease, filter .8s ease;
      will-change: transform, opacity, filter;
    }
    .reveal.in{
      opacity:1;
      transform: translateY(0) scale(1);
      filter: blur(0);
    }

    /* fancy variants */
    .reveal--left{transform: translateX(-18px) translateY(10px) scale(.985)}
    .reveal--right{transform: translateX(18px) translateY(10px) scale(.985)}
    .reveal--pop{transform: translateY(10px) scale(.96)}
    .reveal--tilt{transform: translateY(14px) rotate(-1.2deg) scale(.985)}
    .reveal--tilt2{transform: translateY(14px) rotate(1.2deg) scale(.985)}
    .reveal.in.reveal--left,
    .reveal.in.reveal--right,
    .reveal.in.reveal--pop,
    .reveal.in.reveal--tilt,
    .reveal.in.reveal--tilt2{
      transform: translateY(0) translateX(0) rotate(0) scale(1);
    }

    /* Scroll progress bar */
    .progress{
      position:fixed;
      left:0; top:0;
      height:3px;
      width:100%;
      z-index:2001;
      background: rgba(255,255,255,.06);
      backdrop-filter: blur(8px);
    }
    .progress__bar{
      height:100%;
      width:0%;
      background: linear-gradient(90deg, rgba(255,77,166,.95), rgba(155,92,255,.95));
      box-shadow: 0 0 18px rgba(255,77,166,.55);
    }

    /* Parallax helper (will be moved by JS) */
    .parallax{
      will-change: transform;
      transform: translate3d(0,0,0);
    }

    .hero{
      position:relative;
      z-index:1;
      padding: max(44px, env(safe-area-inset-top)) 16px 18px;
      display:flex;
      justify-content:center;
    }
    .hero__content{
      width:min(980px, 100%);
      text-align:center;
    }

    .badge{
      display:inline-flex;
      gap:10px;
      align-items:center;
      padding:10px 14px;
      border-radius:999px;
      background: rgba(255,255,255,.06);
      border:1px solid var(--stroke);
      backdrop-filter: blur(10px);
      box-shadow: var(--shadow);
      font-weight:700;
      color: var(--muted);
    }

    h1{
      margin:16px 0 10px;
      font-size: clamp(30px, 7vw, 56px);
      letter-spacing: -0.02em;
      line-height:1.05;
      background: linear-gradient(90deg, #fff, rgba(255,255,255,.75), #fff);
      -webkit-background-clip:text;
      background-clip:text;
      color:transparent;
      text-shadow: 0 18px 60px rgba(0,0,0,.35);
    }
    .subtitle{
      margin:0 auto 16px;
      max-width: 62ch;
      color: var(--muted);
      font-size: clamp(14.5px, 3.8vw, 16.5px);
      padding: 0 6px;
    }

    .hero__actions{
      display:flex;
      justify-content:center;
      gap:12px;
      flex-wrap:wrap;
      margin-bottom:16px;
    }

    .btn{
      border:1px solid rgba(255,255,255,.14);
      background: linear-gradient(180deg, rgba(255,77,166,.30), rgba(155,92,255,.20));
      color:var(--text);
      padding: 12px 16px;
      border-radius: 14px;
      cursor:pointer;
      box-shadow: var(--shadow);
      transition: transform .12s ease, border-color .2s ease, filter .2s ease;
      font-weight:900;
      user-select:none;
      min-height: 44px;
    }
    .btn:hover{transform: translateY(-1px); border-color: rgba(255,255,255,.26); filter:saturate(1.08)}
    .btn:active{transform: translateY(0px) scale(.99)}
    .btn--ghost{
      background: rgba(255,255,255,.06);
      backdrop-filter: blur(10px);
    }
    .btn--small{
      padding:10px 14px;
      border-radius: 12px;
      font-weight:900;
      min-height: 44px;
    }

    .photo-card{
      margin: 16px auto 0;
      width:min(560px, 100%);
      background: var(--card);
      border:1px solid var(--stroke);
      border-radius: var(--radius);
      overflow:hidden;
      box-shadow: var(--shadow);
      cursor:pointer;
      outline:none;
      position:relative;
    }
    .photo-card::after{
      content:"";
      position:absolute; inset:-1px;
      background: radial-gradient(600px 260px at 50% 0%, rgba(255,77,166,.35), transparent 60%),
                  radial-gradient(600px 260px at 50% 100%, rgba(155,92,255,.25), transparent 60%);
      opacity:.55;
      pointer-events:none;
      mix-blend-mode: screen;
    }
    .photo-card img{
      width:100%;
      display:block;
      aspect-ratio: 16/10;
      object-fit: cover;
      filter: saturate(1.1) contrast(1.05);
      transform: scale(1.001);
      transition: transform .5s ease;
    }
    .photo-card:hover img{transform: scale(1.04)}
    .photo-card__hint{
      padding: 12px 14px;
      color: var(--muted);
      font-weight:800;
      font-size: 14px;
    }

    .container{
      position:relative;
      z-index:1;
      width:min(980px, 100%);
      margin: 0 auto;
      padding: 8px 16px 64px;
    }

    .grid{
      display:grid;
      gap:14px;
      grid-template-columns: repeat(12, 1fr);
    }

    .card{
      grid-column: span 6;
      background: var(--card);
      border:1px solid var(--stroke);
      border-radius: var(--radius);
      padding: 16px 16px;
      box-shadow: var(--shadow);
      backdrop-filter: blur(12px);
      transition: transform .25s ease, border-color .25s ease;
    }
    .card:hover{
      transform: translateY(-2px);
      border-color: rgba(255,255,255,.18);
    }
    .card--wide{grid-column: span 12}

    @media (max-width: 820px){
      .card{grid-column: span 12}
    }

    .card h2{
      margin:0 0 10px;
      font-size: 20px;
      letter-spacing: -0.01em;
    }

    .muted{color: var(--muted)}
    .row{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
      margin-top: 12px;
    }

    .love-list{
      margin:10px 0 0;
      padding:0;
      list-style:none;
      display:grid;
      gap:10px;
    }
    .love-list li{
      padding:10px 12px;
      border-radius: 14px;
      background: rgba(255,255,255,.05);
      border:1px solid rgba(255,255,255,.10);
      color: rgba(255,255,255,.88);
      box-shadow: 0 10px 22px rgba(0,0,0,.25);
      transition: transform .18s ease, filter .18s ease;
    }
    .love-list li:hover{transform: translateY(-1px); filter:saturate(1.08)}

    .pill-row{
      display:flex;
      gap:8px;
      flex-wrap:wrap;
      margin-top: 12px
    }
    .pill{
      padding: 8px 10px;
      border-radius: 999px;
      background: rgba(255,255,255,.07);
      border:1px solid rgba(255,255,255,.12);
      color: rgba(255,255,255,.86);
      font-weight:900;
      font-size: 13px;
      transition: transform .18s ease;
    }
    .pill:hover{transform: translateY(-1px) scale(1.02)}

    .gallery{
      display:grid;
      grid-template-columns: repeat(4, 1fr);
      gap:10px;
      margin-top: 10px;
    }
    @media (max-width: 560px){
      .gallery{grid-template-columns: repeat(2, 1fr)}
    }
    @media (min-width: 900px){
      .gallery{grid-template-columns: repeat(4, 1fr)}
    }

    .img-btn{
      padding:0;
      border:0;
      background:transparent;
      cursor:pointer;
    }
    .img-btn img{
      width:100%;
      aspect-ratio: 1 / 1;
      object-fit: cover;
      border-radius: 16px;
      border:1px solid rgba(255,255,255,.14);
      box-shadow: 0 10px 24px rgba(0,0,0,.35);
      transition: transform .18s ease, filter .2s ease;
    }
    .img-btn:active img{transform: scale(.99)}
    .img-btn:hover img{filter: saturate(1.1); transform: translateY(-2px)}

    .typewriter{
      min-height: 64px;
      padding: 12px 14px;
      border-radius: 16px;
      background: rgba(0,0,0,.18);
      border:1px solid rgba(255,255,255,.10);
      font-size: 15px;
    }

    .cursor{
      opacity: 1;
      animation: blink 1s step-end infinite;
    }
    @keyframes blink{50%{opacity:0}}

    .footer{
      position:relative;
      z-index:1;
      padding: 18px 16px calc(18px + env(safe-area-inset-bottom));
      text-align:center;
      color: rgba(255,255,255,.78);
    }
    .heart{color: var(--pink)}

    .modal, .lightbox{
      position:fixed;
      inset:0;
      display:none;
      z-index:999;
    }
    .modal[aria-hidden="false"],
    .lightbox[aria-hidden="false"]{display:block}

    .modal__backdrop, .lightbox__backdrop{
      position:absolute; inset:0;
      background: rgba(0,0,0,.65);
      backdrop-filter: blur(6px);
    }

    .modal__content{
      position:relative;
      width:min(560px, calc(100% - 24px));
      margin: 12vh auto 0;
      background: rgba(20,18,30,.90);
      border:1px solid rgba(255,255,255,.14);
      border-radius: 20px;
      padding: 16px 16px 14px;
      box-shadow: var(--shadow);
    }
    @media (max-width: 560px){
      .modal__content{
        margin: auto;
        top: 0;
        transform: translateY(0);
        position:absolute;
        left: 12px;
        right: 12px;
        bottom: calc(12px + env(safe-area-inset-bottom));
        top: calc(12px + env(safe-area-inset-top));
        display:flex;
        flex-direction:column;
        justify-content:center;
      }
    }

    .modal__close, .lightbox__close{
      position:absolute;
      top: 10px; right: 10px;
      width: 44px; height: 44px;
      border-radius: 14px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.06);
      color: var(--text);
      cursor:pointer;
      font-size: 18px;
    }
    .big-cta{margin-top:14px; display:flex; justify-content:flex-end}

    .lightbox__content{
      position:relative;
      width:min(980px, calc(100% - 16px));
      margin: 6vh auto 0;
      background: rgba(10,9,16,.78);
      border:1px solid rgba(255,255,255,.14);
      border-radius: 22px;
      padding: 12px;
      box-shadow: var(--shadow);
    }
    @media (max-width: 560px){
      .lightbox__content{
        margin: 0;
        width: 100%;
        height: 100%;
        border-radius: 0;
        padding: calc(10px + env(safe-area-inset-top)) 10px calc(10px + env(safe-area-inset-bottom));
        display:flex;
        flex-direction:column;
        justify-content:center;
      }
    }

    .lightbox__content img{
      width:100%;
      max-height: 72vh;
      object-fit: contain;
      display:block;
      border-radius: 18px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.25);
      touch-action: pan-y;
    }

    .lightbox__caption{
      margin-top:10px;
      color: var(--muted);
      text-align:center;
      font-weight:800;
      font-size: 14px;
    }

    .lightbox__nav{
      position:absolute;
      top: 50%;
      transform: translateY(-50%);
      width: 50px; height: 50px;
      border-radius: 16px;
      border:1px solid rgba(255,255,255,.16);
      background: rgba(255,255,255,.06);
      color: #fff;
      cursor:pointer;
      font-size: 30px;
      line-height: 46px;
    }
    .lightbox__nav--prev{left: 10px}
    .lightbox__nav--next{right: 10px}

    @media (max-width: 560px){
      .lightbox__nav{top:auto; transform:none; bottom: calc(12px + env(safe-area-inset-bottom));}
      .lightbox__nav--prev{left: 12px}
      .lightbox__nav--next{right: 12px}
    }

    /* üíê Bouquet overlay */
    .bouquet{
      position:fixed;
      inset:0;
      display:grid;
      place-items:center;
      z-index:1600;
      pointer-events:none;
      background: radial-gradient(800px 520px at 50% 50%, rgba(255,77,166,.18), rgba(0,0,0,.45) 60%);
      opacity:0;
      transform: scale(.96);
      transition: opacity .35s ease, transform .35s ease;
    }
    .bouquet.show{opacity:1; transform: scale(1)}
    .bouquet__wrap{
      text-align:center;
      padding: 22px 18px;
      border-radius: 22px;
      background: rgba(20,18,30,.82);
      border: 1px solid rgba(255,255,255,.14);
      box-shadow: 0 26px 80px rgba(0,0,0,.70);
      backdrop-filter: blur(12px);
    }
    .bouquet__emoji{
      font-size: clamp(84px, 18vw, 160px);
      line-height: 1;
      filter: drop-shadow(0 16px 30px rgba(0,0,0,.40));
      animation: bouquetPulse 1.15s ease-in-out infinite;
    }
    .bouquet__text{
      margin-top: 10px;
      font-weight: 900;
      font-size: clamp(16px, 4.8vw, 24px);
      letter-spacing: -0.01em;
    }
    .bouquet__sub{
      margin-top: 6px;
      color: rgba(255,255,255,.78);
      font-weight: 800;
      font-size: 14px;
    }
    @keyframes bouquetPulse{
      0%,100%{ transform: translateY(0) scale(1); }
      50%{ transform: translateY(-7px) scale(1.05); }
    }

    /* ‚ú® Toast */
    .toast{
      position:fixed;
      left:50%;
      bottom: calc(16px + env(safe-area-inset-bottom));
      transform: translateX(-50%) translateY(16px);
      opacity:0;
      z-index:1700;
      pointer-events:none;
      padding: 12px 14px;
      border-radius: 14px;
      background: rgba(20,18,30,.82);
      border: 1px solid rgba(255,255,255,.14);
      box-shadow: 0 18px 60px rgba(0,0,0,.55);
      backdrop-filter: blur(12px);
      font-weight:900;
      color: rgba(255,255,255,.90);
      transition: transform .35s ease, opacity .35s ease;
      text-align:center;
      max-width: min(560px, calc(100% - 24px));
    }
    .toast.show{
      opacity:1;
      transform: translateX(-50%) translateY(0);
    }
  </style>
</head>

<body>
  <div class="progress"><div class="progress__bar" id="progressBar"></div></div>

  <div class="bg-glow"></div>
  <div class="sparkles parallax" data-parallax="0.18"></div>
  <canvas id="hearts"></canvas>
  <canvas id="confetti"></canvas>

  <header class="hero reveal reveal--pop in" id="top">
    <div class="hero__content">
      <div class="badge reveal reveal--pop">14 —Ñ–µ–≤—Ä–∞–ª—è ‚Ä¢ –º–æ—ë –ø—Ä–∏–∑–Ω–∞–Ω–∏–µ</div>
      <h1 class="reveal reveal--pop">–ú–∞–ª—ã—à, —è –ª—é–±–ª—é —Ç–µ–±—è ‚ù§Ô∏è</h1>
      <p class="subtitle reveal">–¢—ã ‚Äî –º–æ—è –Ω–µ–∂–Ω–æ—Å—Ç—å, –º–æ–π –¥–æ–º –∏ –º–æ—ë —Å–∞–º–æ–µ –∫—Ä–∞—Å–∏–≤–æ–µ ¬´–Ω–∞–≤—Å–µ–≥–¥–∞¬ª.</p>

      <div class="hero__actions reveal reveal--pop">
        <button class="btn" id="openSurprise">–û—Ç–∫—Ä—ã—Ç—å —Å—é—Ä–ø—Ä–∏–∑ ‚ú®</button>
        <button class="btn btn--ghost" id="toggleMusic">–ú—É–∑—ã–∫–∞: –≤—ã–∫–ª</button>
      </div>

      <div class="photo-card reveal reveal--tilt parallax" data-parallax="0.12" id="mainPhoto" role="button" tabindex="0" aria-label="–û—Ç–∫—Ä—ã—Ç—å —Ñ–æ—Ç–æ">
        <img src="liv.jpg" alt="–ú–æ—è –ª—é–±–∏–º–∞—è" />
        <div class="photo-card__hint">–ù–∞–∂–º–∏ –Ω–∞ —Ñ–æ—Ç–æ ‚Äî –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –≥–∞–ª–µ—Ä–µ—è</div>
      </div>
    </div>
  </header>

  <main class="container">
    <section class="grid">
      <article class="card reveal reveal--left">
        <h2>–ü–æ—á–µ–º—É —è —Ç–µ–±—è –ª—é–±–ª—é</h2>
        <ul class="love-list">
          <li class="reveal">–ü–æ—Ç–æ–º—É —á—Ç–æ —Ä—è–¥–æ–º —Å —Ç–æ–±–æ–π –º–Ω–µ —Å–ø–æ–∫–æ–π–Ω–æ</li>
          <li class="reveal">–ü–æ—Ç–æ–º—É —á—Ç–æ —Ç—ã —É–º–µ–µ—à—å –¥–µ–ª–∞—Ç—å –º–∏—Ä –¥–æ–±—Ä–µ–µ</li>
          <li class="reveal">–ü–æ—Ç–æ–º—É —á—Ç–æ —Ç–≤–æ—è —É–ª—ã–±–∫–∞ –¥–ª—è –º–µ–Ω—è –∫–∞–∫ —Å—á–∞—Å—Ç—å–µ</li>
          <li class="reveal">–ü–æ—Ç–æ–º—É —á—Ç–æ —Ç—ã –≤–¥–æ—Ö–Ω–æ–≤–ª—è–µ—à—å –º–µ–Ω—è —Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è –ª—É—á—à–µ</li>
          <li class="reveal">–ü–æ—Ç–æ–º—É —á—Ç–æ —Ç—ã —á—É–≤—Å—Ç–≤—É–µ—à—å –º–µ–Ω—è –¥–∞–∂–µ –±–µ–∑ —Å–ª–æ–≤</li>
          <li class="reveal">–ü–æ—Ç–æ–º—É —á—Ç–æ –≤ —Ç–≤–æ–∏—Ö –≥–ª–∞–∑–∞—Ö —Ö–æ—á–µ—Ç—Å—è –∂–∏—Ç—å</li>
          <li class="reveal">–ü–æ—Ç–æ–º—É —á—Ç–æ —Ç–≤–æ—è –∑–∞–±–æ—Ç–∞ —Å–æ–≥—Ä–µ–≤–∞–µ—Ç</li>
          <li class="reveal">–ü–æ—Ç–æ–º—É —á—Ç–æ —Ç—ã –Ω–∞—Å—Ç–æ—è—â–∞—è –∏ –∏—Å–∫—Ä–µ–Ω–Ω—è—è</li>
          <li class="reveal">–ü–æ—Ç–æ–º—É —á—Ç–æ —Å —Ç–æ–±–æ–π –¥–∞–∂–µ –æ–±—ã—á–Ω—ã–π –¥–µ–Ω—å –æ—Å–æ–±–µ–Ω–Ω—ã–π</li>
          <li class="reveal">–ü–æ—Ç–æ–º—É —á—Ç–æ —è –≤—ã–±–∏—Ä–∞—é —Ç–µ–±—è –∫–∞–∂–¥—ã–π –¥–µ–Ω—å</li>
        </ul>
      </article>

      <article class="card reveal reveal--right">
        <h2>–ú–æ—ë –æ–±–µ—â–∞–Ω–∏–µ</h2>
        <p>–Ø –±—É–¥—É —Ä—è–¥–æ–º –≤ —Ä–∞–¥–æ—Å—Ç–∏ –∏ –≤ —Å–ª–æ–∂–Ω—ã–µ –¥–Ω–∏ –ë—É–¥—É –±–µ—Ä–µ—á—å —Ç–µ–±—è –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –∏ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –Ω–∞–ø–æ–º–∏–Ω–∞—Ç—å –∫–∞–∫–∞—è —Ç—ã –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω–∞—è</p>
        <div class="pill-row">
          <span class="pill reveal reveal--pop">–Ω–µ–∂–Ω–æ—Å—Ç—å</span>
          <span class="pill reveal reveal--pop">–∑–∞–±–æ—Ç–∞</span>
          <span class="pill reveal reveal--pop">–≤–µ—Ä–Ω–æ—Å—Ç—å</span>
          <span class="pill reveal reveal--pop">–º—ã</span>
        </div>
      </article>

      <article class="card card--wide reveal reveal--tilt2">
        <h2>–ù–∞—à–∞ –≥–∞–ª–µ—Ä–µ—è</h2>
        <p class="muted">–ö–ª–∏–∫–∞–µ—à—å –ø–æ —Ñ–æ—Ç–æ ‚Äî –º–æ–∂–Ω–æ –ª–∏—Å—Ç–∞—Ç—å, —Å–≤–∞–π–ø–∞—Ç—å, –∑–∞–∫—Ä—ã—Ç—å –∫—Ä–µ—Å—Ç–∏–∫–æ–º.</p>

        <div class="gallery" id="gallery">
          <button class="img-btn reveal reveal--pop"><img src="1.jpg" alt="–§–æ—Ç–æ 1"></button>
          <button class="img-btn reveal reveal--pop"><img src="2.jpg" alt="–§–æ—Ç–æ 2"></button>
          <button class="img-btn reveal reveal--pop"><img src="3.jpg" alt="–§–æ—Ç–æ 3"></button>
          <button class="img-btn reveal reveal--pop"><img src="4.jpg" alt="–§–æ—Ç–æ 4"></button>
          <button class="img-btn reveal reveal--pop"><img src="5.jpg" alt="–§–æ—Ç–æ 5"></button>
          <button class="img-btn reveal reveal--pop"><img src="6.jpg" alt="–§–æ—Ç–æ 6"></button>
          <button class="img-btn reveal reveal--pop"><img src="7.jpg" alt="–§–æ—Ç–æ 7"></button>
          <button class="img-btn reveal reveal--pop"><img src="8.jpg" alt="–§–æ—Ç–æ 8"></button>
          <button class="img-btn reveal reveal--pop"><img src="9.jpg" alt="–§–æ—Ç–æ 8"></button>
          <button class="img-btn reveal reveal--pop"><img src="10.jpg" alt="–§–æ—Ç–æ 8"></button>
        </div>

        <div class="row">
          <button class="btn btn--small reveal reveal--pop" id="downloadCurrent">–°–∫–∞—á–∞—Ç—å —Ç–µ–∫—É—â–µ–µ —Ñ–æ—Ç–æ ‚¨áÔ∏è</button>
        </div>
      </article>

      <article class="card reveal reveal--left">
        <h2>–¢—ë–ø–ª—ã–µ —Å–ª–æ–≤–∞</h2>
        <div class="typewriter">
          <span id="typed"></span><span class="cursor">|</span>
        </div>
      </article>

      <article class="card reveal reveal--right">
        <h2>–ö–Ω–æ–ø–∫–∞ ¬´–î–∞¬ª üôÇ</h2>
        <p>–¢—ã –±—É–¥–µ—à—å –º–æ–µ–π –í–∞–ª–µ–Ω—Ç–∏–Ω–∫–æ–π?</p>
        <div class="row">
          <button class="btn reveal reveal--pop" id="yesBtn">–î–∞ ‚ù§Ô∏è</button>
          <button class="btn btn--ghost reveal reveal--pop" id="noBtn">–ù–µ—Ç üôà</button>
        </div>
        <p class="muted" id="noHint"></p>
      </article>
    </section>
  </main>

  <footer class="footer reveal reveal--pop">
    <div>–° –ª—é–±–æ–≤—å—é <span class="heart">‚ù§</span></div>
    <div class="muted">–°–¥–µ–ª–∞–Ω–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è —Ç–µ–±—è</div>
  </footer>

  <!-- üíê Bouquet -->
  <div class="bouquet" id="bouquet" aria-hidden="true">
    <div class="bouquet__wrap">
      <div class="bouquet__emoji">üíê</div>
      <div class="bouquet__text">–≠—Ç–æ —Ç–µ–±–µ, –ª—é–±–∏–º–∞—è</div>
      <div class="bouquet__sub">–° 14 —Ñ–µ–≤—Ä–∞–ª—è ‚ù§Ô∏è</div>
    </div>
  </div>

  <!-- ‚ú® Toast -->
  <div class="toast" id="toast">–Ø –ª—é–±–ª—é —Ç–µ–±—è –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ ‚ù§Ô∏è</div>

  <!-- SURPRISE MODAL -->
  <div class="modal" id="surpriseModal" aria-hidden="true">
    <div class="modal__backdrop" data-close="true"></div>
    <div class="modal__content reveal reveal--pop in">
      <button class="modal__close" data-close="true" aria-label="–ó–∞–∫—Ä—ã—Ç—å">‚úï</button>
      <h3>–°—é—Ä–ø—Ä–∏–∑ ‚ú®</h3>
      <p>–ï—Å–ª–∏ –±—ã –ª—é–±–æ–≤—å –±—ã–ª–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ–º —è –±—ã –æ—Ç–ø—Ä–∞–≤–ª—è–ª –µ–≥–æ —Ç–µ–±–µ –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É –¢—ã –º–æ—ë —Å–∞–º–æ–µ –∫—Ä–∞—Å–∏–≤–æ–µ —á—É–≤—Å—Ç–≤–æ</p>
      <div class="big-cta">
        <button class="btn" id="confettiBtn">–°–∞–ª—é—Ç –¥–ª—è —Ç–µ–±—è üéâ</button>
      </div>
    </div>
  </div>

  <!-- LIGHTBOX -->
  <div class="lightbox" id="lightbox" aria-hidden="true">
    <div class="lightbox__backdrop" data-close="true"></div>
    <div class="lightbox__content">
      <button class="lightbox__close" data-close="true" aria-label="–ó–∞–∫—Ä—ã—Ç—å">‚úï</button>
      <button class="lightbox__nav lightbox__nav--prev" id="prev" aria-label="–ü—Ä–µ–¥—ã–¥—É—â–µ–µ">‚Äπ</button>
      <img id="lightboxImg" alt="–§–æ—Ç–æ" />
      <button class="lightbox__nav lightbox__nav--next" id="next" aria-label="–°–ª–µ–¥—É—é—â–µ–µ">‚Ä∫</button>
      <div class="lightbox__caption" id="caption"></div>
    </div>
  </div>

  <!-- ‚úÖ –ú—É–∑—ã–∫–∞ -->
  <audio id="audio" autoplay loop preload="auto" playsinline>
    <source src="123.mp3" type="audio/mpeg">
  </audio>

  <script>
    // ===== Scroll reveal (IntersectionObserver) =====
    const reveals = document.querySelectorAll(".reveal");
    const io = new IntersectionObserver((entries) => {
      entries.forEach((e) => {
        if (e.isIntersecting) e.target.classList.add("in");
      });
    }, { threshold: 0.12 });
    reveals.forEach(el => io.observe(el));

    // ===== Scroll progress bar =====
    const progressBar = document.getElementById("progressBar");
    function updateProgress(){
      const doc = document.documentElement;
      const max = (doc.scrollHeight - doc.clientHeight) || 1;
      const p = (doc.scrollTop / max) * 100;
      progressBar.style.width = p.toFixed(2) + "%";
    }
    document.addEventListener("scroll", updateProgress, { passive:true });
    updateProgress();

    // ===== Parallax (soft) =====
    const parallaxEls = Array.from(document.querySelectorAll("[data-parallax]"));
    function parallaxTick(){
      const y = window.scrollY || 0;
      for (const el of parallaxEls){
        const k = parseFloat(el.dataset.parallax || "0.1");
        el.style.transform = `translate3d(0, ${-y * k}px, 0)`;
      }
      requestAnimationFrame(parallaxTick);
    }
    requestAnimationFrame(parallaxTick);

    // ===== Hearts background =====
    const canvas = document.getElementById("hearts");
    const ctx = canvas.getContext("2d", { alpha: true });

    // Confetti canvas
    const confettiCanvas = document.getElementById("confetti");
    const confettiCtx = confettiCanvas.getContext("2d", { alpha: true });

    function resize() {
      const dpr = Math.min(2, window.devicePixelRatio || 1);

      canvas.width = Math.floor(window.innerWidth * dpr);
      canvas.height = Math.floor(window.innerHeight * dpr);
      ctx.setTransform(dpr, 0, 0, dpr, 0, 0);

      confettiCanvas.width = Math.floor(window.innerWidth * dpr);
      confettiCanvas.height = Math.floor(window.innerHeight * dpr);
      confettiCtx.setTransform(dpr, 0, 0, dpr, 0, 0);
    }
    resize();
    window.addEventListener("resize", resize);

    const hearts = [];
    const MAX_HEARTS = 170;

    function rand(min, max){ return Math.random() * (max - min) + min; }

    function makeHeart(initial=false){
      const w = window.innerWidth;
      const h = window.innerHeight;
      return {
        x: rand(-40, w + 40),
        y: initial ? rand(-40, h + 40) : h + rand(10, 120),
        size: rand(10, 26),
        speed: rand(0.6, 2.3),
        sway: rand(0.6, 2.5),
        phase: rand(0, Math.PI * 2),
        rot: rand(-0.7, 0.7),
        rotSpeed: rand(-0.02, 0.02),
        alpha: rand(0.22, 0.72)
      };
    }

    for (let i=0;i<MAX_HEARTS;i++) hearts.push(makeHeart(true));

    function drawHeart(x, y, s, rot, a) {
      ctx.save();
      ctx.translate(x, y);
      ctx.rotate(rot);
      ctx.globalAlpha = a;

      const g = ctx.createLinearGradient(-s, -s, s, s);
      g.addColorStop(0, "rgba(255,77,166,.95)");
      g.addColorStop(1, "rgba(155,92,255,.90)");
      ctx.fillStyle = g;

      ctx.beginPath();
      const t = s / 16;
      ctx.moveTo(0, 6 * t);
      ctx.bezierCurveTo(0, 0, -8 * t, 0, -8 * t, 6 * t);
      ctx.bezierCurveTo(-8 * t, 10 * t, -4 * t, 12 * t, 0, 16 * t);
      ctx.bezierCurveTo(4 * t, 12 * t, 8 * t, 10 * t, 8 * t, 6 * t);
      ctx.bezierCurveTo(8 * t, 0, 0, 0, 0, 6 * t);
      ctx.closePath();
      ctx.fill();

      ctx.restore();
    }

    let last = performance.now();
    function animateHearts(now){
      const dt = Math.min(32, now - last);
      last = now;

      const w = window.innerWidth;
      const h = window.innerHeight;

      ctx.clearRect(0, 0, w, h);

      for (let i=0;i<hearts.length;i++){
        const p = hearts[i];
        p.phase += 0.012 * (dt / 16);
        p.y -= p.speed * (dt / 8);
        p.x += Math.sin(p.phase) * p.sway * (dt / 16);
        p.rot += p.rotSpeed * (dt / 16);

        drawHeart(p.x, p.y, p.size, p.rot, p.alpha);

        if (p.y < -120 || p.x < -180 || p.x > w + 180){
          hearts[i] = makeHeart(false);
        }
      }

      requestAnimationFrame(animateHearts);
    }
    requestAnimationFrame(animateHearts);

    // ===== Confetti WOW =====
    let confetti = [];

    function spawnConfettiBurst(){
      const w = window.innerWidth;
      const h = window.innerHeight;
      const cx = w * 0.5;
      const cy = h * 0.45;

      const COLORS = [
        "rgba(255,77,166,.95)",
        "rgba(155,92,255,.95)",
        "rgba(255,255,255,.9)",
        "rgba(255,190,80,.9)"
      ];

      for (let i=0;i<260;i++){
        const ang = rand(0, Math.PI * 2);
        const sp = rand(2.5, 7.0);
        confetti.push({
          x: cx + rand(-18, 18),
          y: cy + rand(-18, 18),
          vx: Math.cos(ang) * sp,
          vy: Math.sin(ang) * sp - rand(2, 5),
          g: rand(0.08, 0.18),
          r: rand(0, Math.PI*2),
          vr: rand(-0.25, 0.25),
          s: rand(4, 9),
          a: rand(0.7, 1),
          color: COLORS[(Math.random()*COLORS.length)|0],
          life: rand(70, 140)
        });
      }
    }

    function animateConfetti(){
      const w = window.innerWidth;
      const h = window.innerHeight;
      confettiCtx.clearRect(0,0,w,h);

      for (let i=confetti.length-1;i>=0;i--){
        const p = confetti[i];
        p.life -= 1;
        p.vy += p.g;
        p.x += p.vx;
        p.y += p.vy;
        p.r += p.vr;
        p.a *= 0.992;

        confettiCtx.save();
        confettiCtx.translate(p.x, p.y);
        confettiCtx.rotate(p.r);
        confettiCtx.globalAlpha = Math.max(0, p.a);
        confettiCtx.fillStyle = p.color;
        confettiCtx.fillRect(-p.s/2, -p.s/2, p.s, p.s*0.65);
        confettiCtx.restore();

        if (p.life <= 0 || p.y > h + 80 || p.x < -120 || p.x > w + 120) {
          confetti.splice(i,1);
        }
      }

      requestAnimationFrame(animateConfetti);
    }
    requestAnimationFrame(animateConfetti);

    // ===== Surprise modal =====
    const surpriseModal = document.getElementById("surpriseModal");
    const openSurprise = document.getElementById("openSurprise");

    function openModal(modal) {
      modal.setAttribute("aria-hidden", "false");
      document.body.style.overflow = "hidden";
    }
    function closeModal(modal) {
      modal.setAttribute("aria-hidden", "true");
      document.body.style.overflow = "";
    }

    openSurprise.addEventListener("click", () => openModal(surpriseModal));
    surpriseModal.addEventListener("click", (e) => {
      if (e.target.dataset.close) closeModal(surpriseModal);
    });

    // ===== Lightbox gallery =====
    const lightbox = document.getElementById("lightbox");
    const lightboxImg = document.getElementById("lightboxImg");
    const caption = document.getElementById("caption");
    const prevBtn = document.getElementById("prev");
    const nextBtn = document.getElementById("next");

    const galleryEl = document.getElementById("gallery");
    const images = Array.from(galleryEl.querySelectorAll("img")).map(img => ({
      src: img.getAttribute("src"),
      alt: img.getAttribute("alt")
    }));

    let index = 0;

    function show(i) {
      index = (i + images.length) % images.length;
      lightboxImg.src = images[index].src;
      lightboxImg.alt = images[index].alt;
      caption.textContent = `${images[index].alt} ‚Ä¢ ${index + 1}/${images.length}`;
    }

    function openLightbox(i) {
      show(i);
      lightbox.setAttribute("aria-hidden", "false");
      document.body.style.overflow = "hidden";
    }

    function closeLightbox() {
      lightbox.setAttribute("aria-hidden", "true");
      document.body.style.overflow = "";
    }

    galleryEl.addEventListener("click", (e) => {
      const btn = e.target.closest("button");
      if (!btn) return;
      const img = btn.querySelector("img");
      const i = images.findIndex(x => x.src === img.getAttribute("src"));
      openLightbox(i);
    });

    const mainPhoto = document.getElementById("mainPhoto");
    mainPhoto.addEventListener("click", () => openLightbox(0));
    mainPhoto.addEventListener("keydown", (e) => {
      if (e.key === "Enter" || e.key === " ") openLightbox(0);
    });

    lightbox.addEventListener("click", (e) => {
      if (e.target.dataset.close) closeLightbox();
    });

    prevBtn.addEventListener("click", () => show(index - 1));
    nextBtn.addEventListener("click", () => show(index + 1));

    document.addEventListener("keydown", (e) => {
      if (lightbox.getAttribute("aria-hidden") === "false") {
        if (e.key === "Escape") closeLightbox();
        if (e.key === "ArrowLeft") show(index - 1);
        if (e.key === "ArrowRight") show(index + 1);
      }
      if (surpriseModal.getAttribute("aria-hidden") === "false" && e.key === "Escape") {
        closeModal(surpriseModal);
      }
    });

    // swipe on mobile
    let startX = null;
    lightboxImg.addEventListener("touchstart", (e) => {
      startX = e.touches[0].clientX;
    }, {passive:true});

    lightboxImg.addEventListener("touchend", (e) => {
      if (startX === null) return;
      const dx = e.changedTouches[0].clientX - startX;
      if (Math.abs(dx) > 40) show(index + (dx < 0 ? 1 : -1));
      startX = null;
    }, {passive:true});

    // ===== Download current image =====
    document.getElementById("downloadCurrent").addEventListener("click", () => {
      const url = images[index].src;
      const a = document.createElement("a");
      a.href = url;
      a.download = url.split("/").pop();
      document.body.appendChild(a);
      a.click();
      a.remove();
    });

    // ===== Typewriter text =====
    const typed = document.getElementById("typed");
    const phrases = [
      "–Ø –ª—é–±–ª—é —Ç–µ–±—è –∑–∞ —Ç–æ –∫–∞–∫ —Ç—ã —á—É–≤—Å—Ç–≤—É–µ—à—å –º–∏—Ä",
      "–†—è–¥–æ–º —Å —Ç–æ–±–æ–π –º–Ω–µ —Å–ø–æ–∫–æ–π–Ω–æ –∏ –ª–µ–≥–∫–æ",
      "–¢—ã –º–æ—è —Å–∞–º–∞—è –∫—Ä–∞—Å–∏–≤–∞—è –º–µ—á—Ç–∞ –∫–æ—Ç–æ—Ä–∞—è —Å—Ç–∞–ª–∞ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å—é",
      "–° 14 —Ñ–µ–≤—Ä–∞–ª—è –ª—é–±–∏–º–∞—è —è –≤—ã–±–∏—Ä–∞—é —Ç–µ–±—è –∫–∞–∂–¥—ã–π –¥–µ–Ω—å"
    ];

    let pi = 0, ci = 0;
    function typeLoop() {
      const text = phrases[pi];
      typed.textContent = text.slice(0, ci++);
      if (ci <= text.length) return setTimeout(typeLoop, 26);

      setTimeout(() => {
        ci = 0;
        pi = (pi + 1) % phrases.length;
        typeLoop();
      }, 1050);
    }
    typeLoop();

    // ===== Music toggle + autoplay on enter =====
    const audio = document.getElementById("audio");
    const toggleMusic = document.getElementById("toggleMusic");
    let musicOn = false;

    window.addEventListener("load", async () => {
      try {
        audio.volume = 0.85;
        await audio.play();
        musicOn = true;
        toggleMusic.textContent = "–ú—É–∑—ã–∫–∞: –≤–∫–ª";
      } catch {
        toggleMusic.textContent = "–ú—É–∑—ã–∫–∞: –Ω–∞–∂–º–∏";
      }
    });

    document.addEventListener("click", () => {
      if (!musicOn) {
        audio.play().then(() => {
          musicOn = true;
          toggleMusic.textContent = "–ú—É–∑—ã–∫–∞: –≤–∫–ª";
        }).catch(()=>{});
      }
    }, { once:true });

    toggleMusic.addEventListener("click", async () => {
      try {
        if (!musicOn) {
          await audio.play();
          musicOn = true;
          toggleMusic.textContent = "–ú—É–∑—ã–∫–∞: –≤–∫–ª";
        } else {
          audio.pause();
          musicOn = false;
          toggleMusic.textContent = "–ú—É–∑—ã–∫–∞: –≤—ã–∫–ª";
        }
      } catch {
        alert("–ú—É–∑—ã–∫–∞ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è. –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ —Ñ–∞–π–ª 123.mp3 –ª–µ–∂–∏—Ç —Ä—è–¥–æ–º —Å index.html");
      }
    });

    // ===== Funny "No" button =====
    const noBtn = document.getElementById("noBtn");
    const noHint = document.getElementById("noHint");
    let noCount = 0;

    function moveNoButton() {
      noCount++;
      const x = Math.random() * 240 - 120;
      const y = Math.random() * 140 - 70;
      noBtn.style.transform = `translate(${x}px, ${y}px)`;
      noHint.textContent = noCount < 3
        ? "–û–π –∫–Ω–æ–ø–∫–∞ –ù–µ—Ç —É–±–µ–∂–∞–ª–∞ üòÑ"
        : "–ö–∞–∂–µ—Ç—Å—è —Å—É–¥—å–±–∞ –≤—Å—ë —Ä–µ—à–∏–ª–∞ –∑–∞ –Ω–∞—Å ‚ù§Ô∏è";
    }

    noBtn.addEventListener("mouseenter", moveNoButton);
    noBtn.addEventListener("click", (e) => {
      e.preventDefault();
      moveNoButton();
    });

    document.getElementById("yesBtn").addEventListener("click", () => {
      openModal(surpriseModal);
    });

    // ===== WOW: Bouquet + Confetti + Mega hearts + Toast =====
    const bouquet = document.getElementById("bouquet");
    const toast = document.getElementById("toast");

    function showToast(msg){
      toast.textContent = msg;
      toast.classList.add("show");
      setTimeout(() => toast.classList.remove("show"), 2200);
    }

    document.getElementById("confettiBtn").addEventListener("click", () => {
      bouquet.classList.add("show");
      bouquet.setAttribute("aria-hidden","false");

      for (let i = 0; i < 150; i++) hearts.push(makeHeart(true));
      while (hearts.length > MAX_HEARTS + 240) hearts.shift();

      spawnConfettiBurst();
      showToast("üíê –≠—Ç–æ —Ç–µ–±–µ, –ª—é–±–∏–º–∞—è. –Ø —Ç–µ–±—è –æ–±–æ–∂–∞—é ‚ù§Ô∏è");

      setTimeout(() => {
        bouquet.classList.remove("show");
        bouquet.setAttribute("aria-hidden","true");
      }, 2800);
    });
  </script>
</body>
</html>
